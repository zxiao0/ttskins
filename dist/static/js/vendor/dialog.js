var dialog={open:function(i){var a,o,l=i.title?i.title:"",d=i.style?i.style:"",e=(dialog.index,'<div class="dialog '+d+'"><div class="dialog-main"><div class="dialog-hd"><h2 class="dialog-title">'+l+'</h2><div class="dialog-close"><a onclick="dialog.close(this,'+i.isObject+')"></a></div></div><div class="dialog-bd"></div></div></div>'),c=$(e).appendTo("body"),s=c.find(".dialog-bd");"object"==typeof i.content?o=i.content.addClass("dialog-content"):i.isObject?o=$('<div class="dialog-content">'+i.content+"</div>"):(o=$('<div class="dialog-content dialog-content-message">'+i.content+"</div>"),c.addClass("dialog-message")),o.appendTo(s).show(),(i.ok||i.cancel)&&(a=$('<div class="dialog-btns"></div>').appendTo(s),i.ok&&$('<a class="dialog-btn-ok">'+i.ok.text+"</a>").appendTo(a).click(function(){i.ok.callback&&i.ok.callback(),i.ok.noclose||dialog.close($(this)[0],i.isObject)}),i.cancel&&$('<a class="dialog-btn-cancel">'+i.cancel.text+"</a>").appendTo(a).click(function(){i.cancel.callback&&i.cancel.callback(),dialog.close($(this)[0],i.isObject)})),this.index=this.index?this.index:1e3,c.css("z-index",dialog.index).attr("dialog-i",dialog.index).show(),$('<div class="dialog-blank" dialog-i="'+dialog.index+'" style="z-index:'+dialog.index+'" ></div>').insertBefore(c).on("click",function(){dialog.close($(this)[0],i.isObject)}),this.index++},close:function(i,a){var o=$(i).attr("dialog-i")||$(i).parents(".dialog").attr("dialog-i");$.each($("[dialog-i='"+o+"']"),function(i){i?$(this).hasClass("dialog-message")?$(this).remove():(a?$(this).find(".dialog-content").hide():$(this).find(".dialog-content").hide().appendTo($("body")),$(this).remove()):$(this).remove()})},closeAll:function(){$.each($(".dialog-blank"),function(){$(this).click(dialog.close($(this)[0]))})}};